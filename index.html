<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sarangi Mart</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #f7f7f7;
            margin: 0;
            padding: 0;
        }
        .header {
            background: #ff7e5f;
            color: white;
            text-align: center;
            padding: 20px;
        }
        .header img {
            height: 60px;
        }
        .container {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-around;
            padding: 20px;
        }
        .product-card {
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 15px;
            padding: 15px;
            width: 200px;
            text-align: center;
        }
        .product-card img {
            width: 100%;
            border-radius: 10px;
        }
        .cart {
            position: fixed;
            top: 20px;
            right: 20px;
            background: white;
            border-radius: 10px;
            padding: 15px;
            width: 250px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }
        .cart-item {
            margin-bottom: 10px;
        }
        button {
            background: #ff7e5f;
            color: white;
            border: none;
            border-radius: 5px;
            padding: 8px 12px;
            cursor: pointer;
        }
        button:hover {
            background: #ff5c3a;
        }
        input[type=number] {
            width: 50px;
        }
    </style>
</head>
<body>

    <div class="header">
        <img src="logo.png" alt="Sarangi Mart Logo">
        <h1>SARANGI MART</h1>
        <p>Your Pre-Order Marketplace</p>
    </div>

    <!-- Products Section -->
    <div class="container">
        <div class="product-card">
            <img src="product1.jpg" alt="Parle chips">
            <h3>Parle chips</h3>
            <p>Price: ₹40</p>
            <p>Available: 01</p>
            <input type="number" class="product-qty" data-name="Parle chips" data-price="40" min="1" value="1">
            <button class="add-cart-btn">Add to Cart</button>
        </div>
<div class="product-card">
    <img src="kurkure-green-chutney.jpg" alt="Kurkure Green Chutney">
    <h3>Kurkure Green Chutney</h3>
    <p>Price: ₹20</p>
    <p>Available: 03</p>
    <input type="number" class="product-qty" data-name="Kurkure Green Chutney" data-price="20" min="1" value="1">
    <button class="add-cart-btn">Add to Cart</button>
</div>

        <div class="product-card">
            <img src="product2.jpg" alt="Tedhe mede">
            <h3>TEDE mede</h3>
            <p>Price: ₹20</p>
            <p>Available: 01</p>
            <input type="number" class="product-qty" data-name="Tede Mede" data-price="25" min="1" value="1">
            <button class="add-cart-btn">Add to Cart</button>
        </div>
        <div class="product-card">
    <img src="puffcons.jpg" alt="Puffcons">
    <h3>Puffcons</h3>
    <p>Price: ₹20</p>
    <p>Available: 02</p>
    <input type="number" class="product-qty" data-name="Puffcons" data-price="20" min="1" value="1">
    <button class="add-cart-btn">Add to Cart</button>
</div>
<div class="product-card">
    <img src="kitkat.jpg" alt="KitKat">
    <h3>KitKat</h3>
    <p>Price: ₹149</p>
    <p>Available: 01</p>
    <input type="number" class="product-qty" data-name="KitKat" data-price="149" min="1" value="1">
    <button class="add-cart-btn">Add to Cart</button>
</div>
<div class="product-card">
    <img src="chocopie.jpg" alt="ChocoPie">
    <h3>ChocoPie</h3>
    <p>Price: ₹12</p>
    <p>Available: 18</p>
    <input type="number" class="product-qty" data-name="ChocoPie" data-price="12" min="1" value="1">
    <button class="add-cart-btn">Add to Cart</button>
</div>
<div class="product-card">
    <img src="uncle-chips.jpg" alt="Uncle Chips">
    <h3>Uncle Chips</h3>
    <p>Price: ₹50</p>
    <p>Available: 01</p>
    <input type="number" class="product-qty" data-name="Uncle Chips" data-price="50" min="1" value="1">
    <button class="add-cart-btn">Add to Cart</button>
</div>
<div class="product-card">
    <img src="yoga-protein-bar-blueberry.jpg" alt="Yoga Protein Bar Blueberry">
    <h3>Yoga Protein Bar Blueberry</h3>
    <p>Price: ₹40</p>
    <p>Available: 01</p>
    <input type="number" class="product-qty" data-name="Yoga Protein Bar Blueberry" data-price="40" min="1" value="1">
    <button class="add-cart-btn">Add to Cart</button>
</div>
<div class="product-card">
    <img src="strawberry-protein-bar.jpg" alt="Strawberry Protein Bar">
    <h3>Strawberry Protein Bar</h3>
    <p>Price: ₹40</p>
    <p>Available: 01</p>
    <input type="number" class="product-qty" data-name="Strawberry Protein Bar" data-price="40" min="1" value="1">
    <button class="add-cart-btn">Add to Cart</button>
</div>
<div class="product-card">
    <img src="lays-magic-masala.jpg" alt="Lays Magic Masala">
    <h3>Lays Magic Masala</h3>
    <p>Price: ₹20</p>
    <p>Available: 02</p>
    <input type="number" class="product-qty" data-name="Lays Magic Masala" data-price="20" min="1" value="1">
    <button class="add-cart-btn">Add to Cart</button>
</div>
<div class="product-card">
    <img src="lays-hot-and-sweet.jpg" alt="Lays Hot and Sweet">
    <h3>Lays Hot and Sweet</h3>
    <p>Price: ₹30</p>
    <p>Available: 02</p>
    <input type="number" class="product-qty" data-name="Lays Hot and Sweet" data-price="30" min="1" value="1">
    <button class="add-cart-btn">Add to Cart</button>
</div>
<div class="product-card">
    <img src="bingo-mad-angles-very-peri-peri.jpg" alt="Bingo Mad Angles Very Peri Peri">
    <h3>Bingo Mad Angles Very Peri Peri</h3>
    <p>Price: ₹30</p>
    <p>Available: 02</p>
    <input type="number" class="product-qty" data-name="Bingo Mad Angles Very Peri Peri" data-price="30" min="1" value="1">
    <button class="add-cart-btn">Add to Cart</button>
</div>


        <div class="product-card">
            <img src="product3.jpg" alt="HIDE AND SEEK">
            <h3>HIDE AND SEEK</h3>
            <p>Price: ₹30</p>
            <p>Available: 03</p>
            <input type="number" class="product-qty" data-name="Hide and seek" data-price="30" min="1" value="1">
            <button class="add-cart-btn">Add to Cart</button>
        </div>
    </div>

    <!-- Cart Section -->
    <div class="cart">
        <h3>Cart</h3>
        <div id="cart-items"></div>
        <p id="total">Total: ₹0</p>
        <button id="placeOrderBtn">Place Order</button>
    </div>

    <!-- EmailJS SDK -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
    <script>
        // Initialize EmailJS
        emailjs.init("NHtKUf_XQBBT-W7PY"); // Your User ID

        // Cart variable
        let cart = [];

        // Add event listeners after DOM is loaded
        document.addEventListener("DOMContentLoaded", () => {
            // Add to Cart buttons
            document.querySelectorAll(".add-cart-btn").forEach((btn, index) => {
                btn.addEventListener("click", () => {
                    const input = document.querySelectorAll(".product-qty")[index];
                    const name = input.dataset.name;
                    const price = parseInt(input.dataset.price);
                    const qty = parseInt(input.value);
                    addToCart(name, price, qty);
                });
            });

            // Place Order button
            document.getElementById("placeOrderBtn").addEventListener("click", placeOrder);
        });

        function addToCart(name, price, quantity) {
            if(quantity <= 0) return alert("Enter valid quantity");

            let existing = cart.find(item => item.name === name);
            if(existing) {
                existing.quantity += quantity;
            } else {
                cart.push({name, price, quantity});
            }
            renderCart();
        }

        function renderCart() {
            const cartDiv = document.getElementById("cart-items");
            cartDiv.innerHTML = "";
            let total = 0;
            cart.forEach((item, index) => {
                total += item.price * item.quantity;
                const div = document.createElement("div");
                div.classList.add("cart-item");
                div.innerHTML = `${item.name} x ${item.quantity} = ₹${item.price*item.quantity} 
                <button onclick="removeItem(${index})">Remove</button>`;
                cartDiv.appendChild(div);
            });
            document.getElementById("total").innerText = `Total: ₹${total}`;
        }

        function removeItem(index) {
            cart.splice(index, 1);
            renderCart();
        }

        function placeOrder() {
            if(!navigator.onLine) return alert("No internet connection. Please connect and try again.");
            if(cart.length === 0) return alert("Cart is empty!");

            let orderDetails = "";
            cart.forEach(item => {
                orderDetails += `${item.name} x ${item.quantity} = ₹${item.price*item.quantity}\n`;
            });
            let total = cart.reduce((acc,item)=> acc + item.price*item.quantity,0);
            orderDetails += `Total: ₹${total}`;

            emailjs.send("service_glpy52q", "template_2gxdsn8", {
                user_name: "Deeptanshu",
                time: new Date().toLocaleString(),
                order_type: "Pre-orders only",
                message: orderDetails
            })
            .then(() => {
                alert("Order sent successfully!");
                cart = [];
                renderCart();
            })
            .catch(err => {
                alert("EmailJS Failed: " + JSON.stringify(err));
            });
        }
    </script>
</body>
</html>


